// header nav toggle
.nav-toggle {
    .unitize(width, 35);
    .unitize(height, 30);
    .unitize-padding(5, 5);

    .nav-toggle-bars {
        &, &:before, &:after {
            .unitize-height(2);
            .unitize-width(23);
            background: @swf-navbar-default-toggle-icon-bar-bg;
            position: absolute;
            display: block;
            content: '';
            .transition(all 0.5s ease-in-out);
        }

        &:before {
            .unitize(top, -7);
        }

        &:after {
            .unitize(bottom, -7);
        }
    }

    &:hover .nav-toggle-bars {
        &, &:before, &:after {
            background: @swf-navbar-default-toggle-hover-bg;
        }
    }
}

// fixed main navigation
.js-clingify-placeholder {
    height: auto !important;

    .js-clingify-wrapper {
        width: 100%;
        margin-left: auto;
        margin-right: auto;

        &.js-clingify-locked {
            background: @swf-navbar-default-bg;
            left: 0;
            top: 0;
            position: fixed;
            z-index: @swf-zindex-navbar-fixed;
            .transition(none) !important;

            .main-nav {
                margin: 0 auto;
                border: none;
            }
        }
    }
}

// main navigation
.main-nav {
    padding: 0;

    .main-nav-list {
        margin: 0;
        padding: 0;
        display: none;

        li a {
            display: block;
            color: @swf-navbar-default-link-color;
        }

        .main-nav-category {
            .main-nav-link {
                text-decoration: none;

                &:hover, &.open {
                    background-color: @swf-navbar-default-link-hover-bg;
                    color: @swf-navbar-default-link-hover-color;
                }

                &.active {
                    background-color: @swf-navbar-default-link-active-bg;
                    color: @swf-navbar-default-link-active-color;
                }
            }
        }

        .megamenu {
            .main-nav-sub-head {
                a.active {
                    font-weight: 500;
                }
            }

            .main-nav-sub-list {
                list-style-type: none;
                .unitize(padding-left, 20);
                .unitize(margin-bottom, 10);

                li {
                    &.active {
                        font-weight: 600;
                    }

                    &:not(:last-child) {
                        .unitize(padding-bottom, 5);
                    }
                }
            }
        }
    }

    // main navigation offcanvas
    &.off-canvas {
        .unitize-width(@swf-navbar-off-canvas-width);

        .main-nav-close {
            .unitize-padding(10, 10);
            margin: 0;
        }

        .main-nav-list {
            display: block;

            .main-nav-category {
                display: block;
                position: relative;

                .main-nav-link {
                    border-bottom: 1px solid @swf-navbar-link-separator-color;
                }

                &:hover {
                    .main-nav-link {
                        background: @swf-navbar-default-link-hover-bg;
                    }
                }

                .main-nav-link, .main-nav-arrow {
                    .unitize-padding(9, 15);
                }
            }

            .main-nav-arrow {
                position: absolute;
                top: 0;
                right: 0;
                cursor: pointer;

                i {
                    .unitize(font-size, 20);
                    color: @swf-navbar-off-canvas-arrow-color;

                    &.main-nav-rotate {
                        .rotate(180deg);
                    }
                }

                &.active i {
                    color: @swf-navbar-default-link-active-color;
                }
            }

            .megamenu {
                .unitize(padding-top, 10);
                display: none;

                > .row {
                    margin-left: 0;
                    margin-right: 0;
                }

                &.open {
                    display: block;
                }
            }
        }
    }
}

@media screen and (min-width: @screen-hd-min) {

    .main-nav {
        .unitize(font-size, @swf-font-size-small);
        .unitize(margin-top, 10);
        width: 100%;
        position: relative;
        .unitize-max-width(@swf-container-hd);
        border-radius: @swf-navbar-border-radius;
        border: 1px solid @swf-navbar-default-border;
        background: @swf-navbar-default-bg;

        .main-nav-list {
            display: block;

            .main-nav-category {
                display: inline-block;

                .main-nav-link {
                    .unitize-padding(0, 15);
                    .unitize(line-height, @swf-navbar-height);

                    i {
                        display: none;
                    }

                    &:not(:last-child) {
                        border-right: 1px solid @swf-navbar-link-separator-color;
                    }
                }

                .megamenu {
                    .transform-style(preverse-3d);
                    .rotateX(-90deg);
                }

                &:hover, &.open {
                    .megamenu {
                        .rotateX(0deg);
                        opacity: 1;
                    }
                }
            }

            .megamenu {
                width: 100%;
                width: calc(~'100% + 2px');
                .unitize(left, -1);
                position: absolute;
                z-index: @swf-zindex-menu;
                .unitize(padding, 15);
                border: solid 1px @swf-navbar-submenu-border-color;
                background-color: @swf-navbar-submenu-bg-color;
                opacity: 0;
                .transform-origin(0% 0%);
                .transition(opacity 0.3s);
                .transition-transform(0.3s);

                .main-nav-sub-head {
                    .unitize(font-size, @swf-font-size-large);
                    .unitize(margin-bottom, 5);

                    &.subs-active {
                        border-bottom: 1px solid @swf-navbar-link-separator-color;
                        .unitize(padding-bottom, 5);
                    }
                }
            }
        }
    }

}

@media screen and (min-width: @screen-md-min) {

    .main-nav {
        .unitize-max-width(@swf-container-md);
        .unitize(font-size, @swf-font-size-base);

        .main-nav-list {
            .main-nav-category {
                .main-nav-link {
                    .unitize-padding(0, 25);

                    i {
                        display: inline-block;
                    }
                }
            }
        }
    }

}

@media screen and (min-width: @screen-lg-min) {

    .main-nav {
        .unitize-max-width(@swf-container-lg);
    }

}
